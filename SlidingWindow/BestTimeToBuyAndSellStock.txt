Okay this took a few minutes to understand. initially I was still in complete two pointer mode, and tried to iterate using i and j, but then it clicked that the sliding window did't have to be explicitly iterated with two pointers, the max/min logic took care of that and acted as the non-linear iterable, only changing when a new low or high was discovered. Overall a nice introduction to the topic, if only the real life markets reflected such profit! TSMC down some percent today but after reading Chip War years ago, my faith is well placed I believe. 
